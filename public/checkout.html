<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>shop | sashisu realm âš¡ðŸŽ¶</title>

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- tailwind cdn -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- stripe -->
    <script src="https://js.stripe.com/v3/"></script>

    <!-- css -->
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body class="min-h-screen w-full text-white">
    <header
      class="sticky top-0 z-40 bg-black/80 backdrop-blur-md border-b border-purple-500/20"
    >
      <div class="flex items-center justify-between px-4 py-3">
        <!-- hamburger -->
        <button
          id="menuBtn"
          class="p-2 rounded-lg hover:bg-white/10 transition"
          aria-label="Open menu"
          type="button"
        >
          <i class="fa-solid fa-bars text-white text-xl"></i>
        </button>

        <!-- title -->
        <div class="text-base text-xl lg:text-3xl font-semibold tracking-wide">
          sashisu realm âš¡ðŸŽ¶
        </div>

        <!-- cart count + profile -->
        <div class="cartNprofile flex items-center gap-3">
          <a
            href="cart.html"
            class="text-sm text-white/90 hover:text-purple-300 transition"
          >
            <span id="cartCount">0</span>
          </a>

          <a
            href="account.html"
            class="p-2 rounded-lg hover:bg-white/10 transition"
            aria-label="Account"
            title="Account"
          >
            <div
              class="w-7 h-7 rounded-full border border-white/40 flex items-center justify-center"
            >
              <span class="text-xs">ðŸ‘¤</span>
            </div>
          </a>
        </div>
      </div>
    </header>

    <!-- side menu -->
    <aside
      id="sideMenu"
      class="fixed top-0 left-0 h-full w-72 max-w-[80vw] bg-black/80 backdrop-blur-md border-r border-purple-500/20 translate-x-[-110%] transition-transform duration-300 z-50"
    >
      <div
        class="p-4 flex items-center justify-between border-b border-white/10"
      >
        <div class="menu font-semibold">Menu</div>
        <button id="closeMenuBtn" class="p-2 rounded-lg hover:bg-white/10">
          âœ•
        </button>
      </div>

      <nav class="go sections p-4 space-y-3 text-white/90">
        <a class="block hover:text-purple-300" href="index.html">Home</a>
        <a class="block hover:text-purple-300" href="browse.html"
          >Prison Inventory</a
        >
        <a class="block hover:text-purple-300" href="orders.html"
          >View Orders</a
        >
        <a class="block hover:text-purple-300" href="account.html">Account</a>
      </nav>
    </aside>

    <main
      class="min-h-screen bg-cover bg-center"
      style="background-image: url('images/bg2.jpg')"
    >
      <!-- overlay -->
      <section class="min-h-screen bg-black/70">
        <div class="px-4 py-6 flex justify-center">
          <div class="w-full max-w-3xl">
            <h1
              class="checkout anime-text text-center text-2xl sm:text-3xl font-black tracking-widest mb-6"
            >
              checkout
            </h1>

            <section
              class="container relative z-10 rounded-3xl bg-black/45 border border-purple-500/25 backdrop-blur-md shadow-2xl shadow-purple-700/20 overflow-hidden"
            >
              <div class="p-5 sm:p-7">
                <!-- PAYMENT METHOD -->
                <div
                  class="payment-method text-lg sm:text-xl text-white/90 mt-8"
                >
                  Choose Your Payment Method
                </div>

                <!-- payment options -->
                <div class="payment-options space-y-4 mt-4">
                  <!-- credit card option -->
                  <label
                    class="flex items-center gap-3 rounded-xl px-4 py-3 bg-white/10 border border-white/15 hover:bg-white/15 transition cursor-pointer payment-option"
                    data-option="card"
                  >
                    <input
                      type="radio"
                      name="payMethod"
                      value="card"
                      checked
                      class="h-5 w-5 accent-purple-500 payment-radio"
                    />
                    <span class="text-lg">Credit / Debit Card</span>
                    <i class="fa-solid fa-credit-card ml-auto"></i>
                  </label>

                  <!-- credit card details -->
                  <section
                    id="cardDetails"
                    class="payment-details mt-3 rounded-2xl bg-black/35 border border-purple-500/20 p-4 sm:p-6 transition-all duration-300"
                  >
                    <div class="card-element space-y-4">
                      <!-- card element container -->
                      <div class="mb-4">
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                        >
                          Card Details
                        </label>
                        <div
                          id="card-element"
                          class="stripe-card-element"
                        ></div>
                      </div>

                      <!-- card errors display -->
                      <div
                        id="card-errors"
                        class="text-red-300 text-sm"
                        role="alert"
                      ></div>

                      <!-- name on Card -->
                      <div>
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                        >
                          Name on Card
                        </label>
                        <input
                          id="cardName"
                          type="text"
                          placeholder="e.g. Koyuki Sky"
                          autocomplete="cc-name"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>
                    </div>
                  </section>

                  <!-- prison realm points option -->
                  <label
                    class="flex items-center gap-3 rounded-xl px-4 py-3 bg-white/10 border border-white/15 hover:bg-white/15 transition cursor-pointer payment-option"
                    data-option="points"
                  >
                    <input
                      type="radio"
                      name="payMethod"
                      value="points"
                      class="h-5 w-5 accent-purple-500 payment-radio"
                    />
                    <span class="text-lg">Prison Realm Points</span>
                    <i class="fa-solid fa-coins ml-auto text-yellow-400"></i>
                  </label>

                  <!-- points details -->
                  <section
                    id="pointsDetails"
                    class="payment-details hidden mt-3 rounded-2xl bg-black/35 border border-purple-500/20 p-4 sm:p-6 transition-all duration-300"
                  >
                    <div class="points space-y-4">
                      <!-- points display -->
                      <div
                        class="points-info just-type bg-gradient-to-r from-purple-900/30 to-indigo-900/30 rounded-xl p-4 border border-purple-500/30"
                      >
                        <div class="flex justify-between items-center mb-3">
                          <div class="text-white/80">
                            <i class="fa-solid fa-wallet mr-2"></i>
                            Your Balance
                          </div>
                          <div
                            id="userPoints"
                            class="text-xl font-bold text-purple-300"
                          >
                            0
                          </div>
                        </div>

                        <div class="flex justify-between items-center mb-3">
                          <div class="text-white/80">
                            <i class="fa-solid fa-shopping-cart mr-2"></i>
                            Order Cost
                          </div>
                          <div
                            id="orderPointsNeeded"
                            class="text-xl font-bold text-yellow-300"
                          >
                            0
                          </div>
                        </div>

                        <div class="border-t border-white/20 pt-3 mt-3">
                          <div class="flex justify-between items-center">
                            <div class="text-white/80">
                              <i class="fa-solid fa-scale-balanced mr-2"></i>
                              Status
                            </div>
                            <div
                              id="pointsStatus"
                              class="text-lg font-semibold"
                            >
                              Loading...
                            </div>
                          </div>

                          <!-- Progress Bar -->
                          <div class="mt-4">
                            <div class="flex justify-between text-sm mb-1">
                              <span class="mess text-white/70"
                                >Points Progress</span
                              >
                              <span
                                id="pointsProgressText"
                                class="text-white/70"
                                >0/0</span
                              >
                            </div>
                            <div
                              class="w-full bg-black/40 h-3 rounded-full overflow-hidden"
                            >
                              <div
                                id="pointsProgressBar"
                                class="h-full bg-gradient-to-r from-purple-500 to-indigo-500 rounded-full transition-all duration-500"
                                style="width: 0%"
                              ></div>
                            </div>
                          </div>

                          <!-- warning/message -->
                          <div
                            id="pointsMessage"
                            class="pointsMess mt-4 text-sm p-3 rounded-lg bg-black/30 border border-purple-500/20"
                          >
                            Select "Prison Realm Points" to pay with your
                            accumulated points.
                          </div>
                        </div>
                      </div>

                      <!-- points action -->
                      <div class="text-center mt-6">
                        <button
                          id="usePointsBtn"
                          type="button"
                          class="button-text px-6 py-3 rounded-xl bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 border border-yellow-500/30 shadow-xl shadow-yellow-600/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                          disabled
                        >
                          <i class="fa-solid fa-bolt mr-2"></i>
                          Pay with Points
                        </button>
                        <p class="text-xs text-white/60 mt-2">
                          You will earn
                          <span id="pointsToEarn" class="font-semibold">0</span>
                          points from this purchase
                        </p>
                      </div>
                    </div>
                  </section>
                </div>

                <!-- DELIVERY DETAILS -->
                <div
                  class="delivery-method text-lg sm:text-xl text-white/90 mt-8"
                >
                  Delivery Details
                </div>

                <div class="delivery-options mt-4 space-y-4">
                  <!-- delivery note -->
                  <div
                    class="only rounded-xl px-4 py-3 bg-white/10 border border-white/15 text-white/80 text-sm sm:text-base"
                  >
                    Delivery only. No escape routes.
                    <span class="block text-white/60 text-xs sm:text-sm mt-1">
                      Delivery fee: +Â¥318
                    </span>
                  </div>

                  <!-- address form (boxed) -->
                  <section
                    class="box mt-3 rounded-2xl bg-black/35 border border-purple-500/20 p-4 sm:p-6"
                  >
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                      <div class="sm:col-span-2">
                        <label
                          class="name-title block text-sm text-white/80 mb-2"
                          >Full Name</label
                        >
                        <input
                          id="fullName"
                          type="text"
                          placeholder="e.g. Koyuki Sky"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>

                      <div>
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                          >Phone</label
                        >
                        <input
                          id="phone"
                          type="tel"
                          placeholder="e.g. 090-1234-5678"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>

                      <div>
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                          >Postal Code</label
                        >
                        <input
                          id="postalCode"
                          type="text"
                          placeholder="e.g. 150-0001"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>

                      <div class="sm:col-span-2">
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                          >Address Line 1</label
                        >
                        <input
                          id="address1"
                          type="text"
                          placeholder="Street, building, unit"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>

                      <div class="sm:col-span-2">
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                        >
                          Address Line 2 (Optional)
                        </label>
                        <input
                          id="address2"
                          type="text"
                          placeholder="Apartment, floor, etc"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>

                      <div>
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                          >City</label
                        >
                        <input
                          id="city"
                          type="text"
                          placeholder="e.g. Shibuya"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>

                      <div>
                        <label
                          class="field-title block text-sm text-white/80 mb-2"
                          >Prefecture</label
                        >
                        <input
                          id="prefecture"
                          type="text"
                          placeholder="e.g. Tokyo"
                          class="just-type w-full px-4 py-3 rounded-xl bg-black/40 border border-purple-500/25 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"
                        />
                      </div>
                    </div>
                  </section>
                </div>

                <!-- ORDER SUMMARY -->
                <div class="summary mt-8 space-y-3">
                  <div class="flex items-center justify-between text-white/80">
                    <div class="text-sm sm:text-base">Items Total</div>
                    <div
                      id="itemsTotal"
                      class="text-sm sm:text-base font-semibold"
                    >
                      Â¥0
                    </div>
                  </div>

                  <div class="flex items-center justify-between text-white/80">
                    <div class="text-sm sm:text-base">Delivery Fee</div>
                    <div
                      id="deliveryFee"
                      class="text-sm sm:text-base font-semibold"
                    >
                      Â¥0
                    </div>
                  </div>

                  <div class="flex items-center justify-between text-white/80">
                    <div class="text-sm sm:text-base">The Total Damaged</div>
                    <div
                      id="totalYen"
                      class="text-sm sm:text-base font-semibold"
                    >
                      Â¥0
                    </div>
                  </div>

                  <div class="flex items-center justify-between text-white/80">
                    <div class="text-sm sm:text-base">Points Earned</div>
                    <div
                      id="pointsEarned"
                      class="text-sm sm:text-base font-semibold"
                    >
                      +0
                    </div>
                  </div>

                  <!-- payment method display -->
                  <div
                    class="flex items-center justify-between text-white/80 pt-3 border-t border-white/10"
                  >
                    <div class="text-sm sm:text-base">
                      <i class="fa-solid fa-money-bill-wave mr-2"></i>
                      Payment Method
                    </div>
                    <div
                      id="selectedPaymentMethod"
                      class="text-sm sm:text-base font-semibold text-purple-300"
                    >
                      Credit Card
                    </div>
                  </div>
                </div>

                <!-- ACTION BUTTON -->
                <div class="mt-8 flex justify-center">
                  <button
                    id="sealOrderBtn"
                    type="button"
                    class="button-text w-full sm:w-[70%] py-3 rounded-2xl bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 border border-purple-500/30 shadow-xl shadow-purple-600/20 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                    disabled
                  >
                    <i class="fa-solid fa-lock mr-2"></i>
                    Fill Required Fields
                  </button>
                </div>

                <p
                  id="errorMsg"
                  class="hidden mt-4 text-center text-sm text-red-300"
                ></p>

                <div class="goback mt-6 flex justify-center">
                  <a
                    href="cart.html"
                    class="text-sm text-purple-300 underline hover:text-purple-200"
                  >
                    <i class="fa-solid fa-arrow-left mr-2"></i>
                    Go back to cart out
                  </a>
                </div>
              </div>
            </section>

            <p id="emptyMsg" class="hidden text-center text-white/75 mt-6">
              Your cart is empty. There is nothing to seal.
              <a href="browse.html" class="text-purple-300 underline ml-1"
                >Browse</a
              >
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer
      class="relative h-10 bg-cover bg-center"
      style="background-image: url('images/bg1.png')"
    >
      <!-- Overlay -->
      <div class="absolute inset-0 bg-black/80"></div>

      <div
        class="relative z-10 h-full flex items-center justify-center text-xs text-gray-400"
      >
        Â© 2026 Sashisu Realm â€¢ You cannot escape.
      </div>
    </footer>

    <!-- js -->
    <script src="js/checkout.js"></script>
  </body>
</html>
